<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>مركز صلة التدريبي الدولي</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    
    <!-- Google Fonts (Tajawal for Arabic) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800&display=swap" rel="stylesheet">
    
    <style>
        /* Custom Styles */
        html {
            scroll-behavior: smooth;
        }
        body {
            font-family: 'Tajawal', sans-serif;
            background-color: #f7fafc;
            color: #1f2937;
            background-image: radial-gradient(#e2e8f0 1px, transparent 1px);
            background-size: 25px 25px;
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        .main-header {
            background: linear-gradient(90deg, #1e3a8a, #3b82f6);
        }
        .course-card-small {
            background-color: white;
            border-radius: 1rem;
            padding: 1.5rem;
            text-align: center;
            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06);
            transition: transform 0.3s ease, box-shadow 0.3s ease, background-color 0.3s ease;
            cursor: pointer;
            opacity: 0;
            animation: fadeIn 0.5s ease-out forwards;
        }
        @keyframes fadeIn {
            to {
                opacity: 1;
            }
        }
        .course-card-small:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05);
        }
        /* Tab styling */
        .tabs-section {
            background: linear-gradient(135deg, #e0f2fe, #f0f9ff);
        }
        .tab-button {
            background-color: #ffffff;
            color: #374151;
            border: 1px solid #e5e7eb;
            transition: all 0.3s ease-in-out;
        }
        .tab-button:hover {
            background-color: #eff6ff;
            border-color: #93c5fd;
        }
        .tab-button.active {
            background-color: #2563eb;
            color: white;
            border-color: #1d4ed8;
            box-shadow: 0 4px 14px rgba(37, 99, 235, 0.3);
            transform: translateY(-2px);
        }
        .main-view-button.active {
            background-color: #1e3a8a;
            color: white;
            border-color: #1e3a8a;
        }
        .slider-container {
            position: relative;
            width: 100%;
            height: 60vh; /* Taller on mobile */
            overflow: hidden;
            border-radius: 1rem;
            background-color: #e2e8f0; 
        }
        @media (min-width: 768px) {
            .slider-container {
                height: 50vh; /* Original height on larger screens */
            }
        }
        .slider-image {
            position: absolute;
            width: 100%;
            height: 100%;
            object-fit: cover; 
            transition: transform 0.6s ease-in-out;
        }
        .slider-button {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: rgba(0, 0, 0, 0.4);
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            cursor: pointer;
            z-index: 10;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.3s ease;
        }
        .slider-button:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }
        .slider-dots {
            position: absolute;
            bottom: 1rem;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 0.5rem;
            z-index: 10;
        }
        .slider-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.5);
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .slider-dot.active {
            background-color: white;
        }

        .monthly-course-card {
            background: white;
            border-radius: 1rem;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease, background-color 0.3s ease;
        }
        .monthly-course-card:hover {
             transform: translateY(-5px);
             box-shadow: 0 8px 25px rgba(0,0,0,0.12);
        }
        /* Social Icons Interaction */
        .social-icon {
            transition: color 0.2s ease-in-out, transform 0.2s ease-in-out;
        }
        .social-icon:hover {
            transform: translateY(-2px) scale(1.1);
        }
        
        .offer-card {
            background: linear-gradient(135deg, #6d28d9, #d946ef);
            color: white;
            border-radius: 1rem;
            padding: 2rem;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05);
        }
        .offer-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 25px -5px rgba(109, 40, 217, 0.3), 0 10px 10px -5px rgba(109, 40, 217, 0.1);
        }
        .offer-card .offer-icon {
            font-size: 3rem;
            opacity: 0.1;
            position: absolute;
            top: -10px;
            left: -10px;
            transform: rotate(-15deg);
        }

        /* Modal Base Style */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.6);
            align-items: flex-start;
            justify-content: center;
            padding-top: 5vh;
            padding-bottom: 5vh;
        }
        .modal-content {
            background-color: #fefefe;
            margin: auto;
            padding: 1.5rem; /* Smaller padding on mobile */
            border: none;
            width: 90%;
            max-width: 800px;
            border-radius: 1rem;
            box-shadow: 0 20px 25px -5px rgba(0,0,0,0.1), 0 10px 10px -5px rgba(0,0,0,0.04);
            animation: fadeInDown 0.5s;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }
        @media (min-width: 640px) {
            .modal-content {
                padding: 2.5rem; /* Larger padding on larger screens */
            }
        }

        @keyframes fadeInDown {
            from {opacity: 0; transform: translateY(-50px);}
            to {opacity: 1; transform: translateY(0);}
        }
        .modal-close-button {
            position: absolute;
            top: 0.75rem; /* 12px */
            left: 0.75rem; /* 12px For RTL */
            width: 2.5rem; /* 40px */
            height: 2.5rem; /* 40px */
            background-color: #e5e7eb;
            color: #4b5563;
            border-radius: 9999px; /* full circle */
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem; /* 20px */
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            line-height: 1;
        }
        .modal-close-button:hover {
            background-color: #d1d5db;
            transform: scale(1.05);
            color: #1f2937;
        }
        
        /* --- Dark Mode Styles --- */
        body.dark {
            background-color: #111827;
            color: #d1d5db;
            background-image: radial-gradient(#374151 1px, transparent 1px);
        }
        body.dark .main-header {
            background: linear-gradient(90deg, #1f2937, #374151);
        }
        body.dark h2, body.dark #view-monthly-courses h2, body.dark .section-title {
            color: #f9fafb;
            border-color: #3b82f6;
        }
        body.dark #main-view-nav {
            background-color: #1f2937;
            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.5), 0 2px 4px -1px rgba(0,0,0,0.3);
        }
        body.dark .main-view-button {
            background-color: #374151;
            color: #d1d5db;
        }
        body.dark .main-view-button.active {
            background-color: #3b82f6;
            color: white;
            border-color: #3b82f6;
        }
        body.dark .tabs-section {
            background: #1f2937;
        }
        body.dark .tab-button {
            background-color: #374151;
            color: #d1d5db;
            border-color: #4b5563;
        }
        body.dark .tab-button:hover {
            background-color: #4b5563;
        }
        body.dark .tab-button.active {
            background-color: #3b82f6;
            color: white;
            border-color: #2563eb;
        }
        body.dark .course-card-small, 
        body.dark .monthly-course-card {
            background-color: #1f2937;
            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.5), 0 2px 4px -1px rgba(0,0,0,0.3);
        }
        body.dark .course-card-small h3, 
        body.dark .monthly-course-card h3 {
            color: #f9fafb;
        }
        body.dark .monthly-course-card p {
            color: #9ca3af;
        }
        body.dark .course-card-small .bg-blue-100, 
        body.dark .course-card-small .bg-purple-100 {
            background-color: #374151;
        }
        body.dark .monthly-course-card .details-button {
            background-color: #3b82f6;
        }
        body.dark .modal-content {
            background-color: #1f2937;
        }
        body.dark .modal-close-button {
            background-color: #4b5563;
            color: #d1d5db;
        }
        body.dark .modal-close-button:hover {
            background-color: #6b7280;
            color: white;
        }
        body.dark #course-modal-body h3, body.dark #offer-modal-body h3 {
            color: #f9fafb;
            border-color: #4b5563;
        }
        body.dark #course-modal-body .text-gray-700, body.dark #offer-modal-body .text-gray-700 {
            color: #d1d5db;
        }
        body.dark #course-modal-body .font-bold, body.dark #offer-modal-body .font-bold {
             color: #f9fafb;
        }
        body.dark #course-modal-body .border-r-4 {
            border-color: #4b5563 !important;
        }
        body.dark #course-modal-body .bg-gray-50, body.dark #offer-modal-body .bg-purple-50 {
             background-color: #374151;
        }
        body.dark #tiktok-modal .text-gray-800,
        body.dark #course-modal-body .text-gray-800,
        body.dark .monthly-course-card .text-gray-900,
        body.dark #view-monthly-courses h2,
        body.dark #offers-grid h2,
        body.dark #view-all-courses h2,
        body.dark #course-modal-body .text-gray-900,
        body.dark #offer-modal-body .text-gray-900 {
            color: #f9fafb;
        }
         body.dark footer {
            background-color: #111827;
            color: #9ca3af;
        }
    </style>
</head>
<body class="antialiased">

    <!-- Header Section -->
    <header class="main-header text-white shadow-lg sticky top-0 z-50">
        <div class="container mx-auto px-4 sm:px-6 py-3 flex flex-col sm:flex-row justify-between items-center gap-4 sm:gap-0">
             <!-- Logo and Title -->
            <a href="#" class="flex items-center gap-3 transition-opacity hover:opacity-80">
                <img src="https://res.cloudinary.com/dnqhuye5h/image/upload/v1750106940/Asset_3_y6hpka.svg" alt="شعار مركز صلة" class="h-10 sm:h-12">
                <h1 class="text-lg sm:text-xl md:text-2xl font-extrabold tracking-wide">مركز صلة التدريبي الدولي</h1>
            </a>
            <!-- Grouped Icons -->
            <div class="flex items-center gap-3 sm:gap-5">
                <a href="https://www.facebook.com/profile.php?id=61572455555070&sk=photos" target="_blank" class="text-lg sm:text-xl social-icon hover:text-blue-300"><i class="fab fa-facebook-f"></i></a>
                <a href="https://www.instagram.com/link.sila?igsh=aW82YmluY2JkYzJq" target="_blank" class="text-lg sm:text-xl social-icon hover:text-pink-400"><i class="fab fa-instagram"></i></a>
                <a href="https://wa.me/+963991015651" target="_blank" class="text-lg sm:text-xl social-icon hover:text-green-400"><i class="fab fa-whatsapp"></i></a>
                <a href="https://t.me/LINKSELA25" target="_blank" class="text-lg sm:text-xl social-icon hover:text-blue-400"><i class="fab fa-telegram"></i></a>
                <a href="#" id="tiktok-link" class="text-lg sm:text-xl social-icon hover:text-gray-300"><i class="fab fa-tiktok"></i></a>
                <button id="theme-toggle" class="text-lg sm:text-xl w-10 h-10 rounded-full flex items-center justify-center hover:bg-white/20 transition-colors">
                    <i id="theme-icon" class="fas fa-moon"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto p-4 md:p-8">
        <!-- Image Slider -->
        <section class="mb-12 shadow-2xl rounded-2xl">
            <div class="slider-container">
                <img src="https://res.cloudinary.com/dnqhuye5h/image/upload/v1750088466/Code-img_crurh7.png" class="slider-image" alt="دورات برمجية متقدمة">
                <img src="https://res.cloudinary.com/dnqhuye5h/image/upload/v1750088464/%D8%AA%D9%86%D9%85%D9%8A%D8%A9_%D8%A8%D8%B4%D8%B1%D9%8A%D8%A9_%D9%88%D8%A5%D8%AF%D8%A7%D8%B1%D9%8A%D8%A9_vprt1m.jpg" class="slider-image" alt="تنمية بشرية وإدارية">
                <img src="https://res.cloudinary.com/dnqhuye5h/image/upload/v1750088467/%D9%83%D9%88%D8%B1%D8%B3%D8%A7%D8%AA_%D9%87%D9%86%D8%AF%D8%B3%D9%8A%D8%A9_%D9%88%D8%AA%D9%82%D9%86%D9%8A%D8%A9_erekhm.png" class="slider-image" alt="كورسات هندسية وتقنية">
                <img src="https://res.cloudinary.com/dnqhuye5h/image/upload/v1750088467/%D8%AA%D8%B9%D9%84%D9%85_%D9%84%D8%BA%D8%A7%D8%AA_%D8%A7%D9%84%D8%B9%D8%A7%D9%84%D9%85_oeqjsk.jpg" class="slider-image" alt="تعلم لغات العالم">
                <button id="prev-slide" class="slider-button right-2 sm:right-4"><i class="fas fa-chevron-right"></i></button>
                <button id="next-slide" class="slider-button left-2 sm:left-4"><i class="fas fa-chevron-left"></i></button>
                <div id="slider-dots" class="slider-dots"></div>
            </div>
        </section>

        <!-- Main View Navigation -->
        <section class="mb-10">
            <div id="main-view-nav" class="flex flex-col sm:flex-row justify-center bg-white p-2 rounded-xl shadow-md gap-2">
                <button data-view="all-courses" class="main-view-button w-full sm:w-1/4 text-center py-3 px-4 rounded-lg font-bold text-base sm:text-lg border-2 border-transparent active">أقسام الدورات</button>
                <button data-view="monthly-courses" class="main-view-button w-full sm:w-1/4 text-center py-3 px-4 rounded-lg font-bold text-base sm:text-lg border-2 border-transparent">دورات الشهر</button>
                <button data-view="offers" class="main-view-button w-full sm:w-1/4 text-center py-3 px-4 rounded-lg font-bold text-base sm:text-lg border-2 border-transparent">العروض</button>
                <button data-view="entertainment" class="main-view-button w-full sm:w-1/4 text-center py-3 px-4 rounded-lg font-bold text-base sm:text-lg border-2 border-transparent">ترفيه واختبارات</button>
            </div>
        </section>

        <!-- Main Views Container -->
        <div id="views-container">
            <!-- View 1: All Courses -->
            <div id="view-all-courses">
                <section class="tabs-section mb-8 p-4 sm:p-6 rounded-2xl shadow-lg">
                    <div id="tabs" class="flex flex-wrap justify-center gap-2 sm:gap-3 md:gap-4"></div>
                </section>
                <section id="courses-grid" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-6"></section>
            </div>

            <!-- View 2: Monthly Courses -->
            <div id="view-monthly-courses" class="hidden">
                 <section class="mb-12">
                    <h2 class="section-title text-2xl md:text-3xl font-extrabold text-center mb-8 text-gray-800 border-b-4 border-blue-500 pb-3 w-fit mx-auto">دورات الشهر الحالي</h2>
                    <div id="current-month-courses" class="space-y-6"></div>
                </section>
                <section>
                    <h2 class="section-title text-2xl md:text-3xl font-extrabold text-center mb-8 text-gray-800 border-b-4 border-blue-500 pb-3 w-fit mx-auto">دورات الشهر القادم</h2>
                    <div id="next-month-courses" class="space-y-6"></div>
                </section>
            </div>

            <!-- View 3: Offers -->
            <div id="view-offers" class="hidden">
                <section class="mb-12">
                    <h2 class="section-title text-2xl md:text-3xl font-extrabold text-center mb-8 text-gray-800 border-b-4 border-purple-500 pb-3 w-fit mx-auto">عروضنا المميزة</h2>
                    <div id="offers-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                        <!-- Offer cards will be inserted here by JavaScript -->
                    </div>
                </section>
            </div>

            <!-- View 4: Entertainment & Quizzes (NEW) -->
            <div id="view-entertainment" class="hidden">
                <section class="mb-12">
                    <h2 class="section-title text-2xl md:text-3xl font-extrabold text-center mb-4 text-gray-800 border-b-4 border-purple-500 pb-3 w-fit mx-auto">استراحة قصيرة</h2>
                    <p class="text-center text-gray-600 dark:text-gray-400 mb-8 max-w-2xl mx-auto">استرح قليلاً، اختبر نفسك ببعض الاختبارات النفسية المسلية، أو تحدى صديقك في لعبة سريعة!</p>
                    <div id="entertainment-grid" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-6">
                        <!-- Entertainment cards will be inserted here by JavaScript -->
                    </div>
                </section>
            </div>

        </div>
    </main>
    
    <!-- Modals Container -->
    <div id="tiktok-modal" class="modal">
        <div class="modal-content">
            <span class="modal-close-button">&times;</span>
            <div class="text-center pt-4">
                <p class="text-xl sm:text-2xl font-bold text-gray-800">قريباً على تيك توك</p>
            </div>
        </div>
    </div>

    <div id="course-details-modal" class="modal">
        <div class="modal-content">
            <span class="modal-close-button">&times;</span>
            <div id="course-modal-body"></div>
        </div>
    </div>

    <div id="offer-details-modal" class="modal">
        <div class="modal-content">
            <span class="modal-close-button">&times;</span>
            <div id="offer-modal-body"></div>
        </div>
    </div>
    
    <!-- A generic modal for entertainment items -->
    <div id="entertainment-modal" class="modal">
        <div class="modal-content">
            <span class="modal-close-button">&times;</span>
            <div class="text-center pt-4">
                 <i id="entertainment-modal-icon" class="text-5xl sm:text-6xl text-purple-500 mb-4"></i>
                <p id="entertainment-modal-title" class="text-xl sm:text-2xl font-bold text-gray-800"></p>
                <p class="text-lg text-gray-600 dark:text-gray-400 mt-2">هذه الميزة قيد التطوير حالياً، ترقبوها قريباً!</p>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white mt-12 p-6 text-center">
        <p>&copy; 2024 مركز صلة التدريبي الدولي. جميع الحقوق محفوظة.</p>
    </footer>

    <script>
        // --- DATA ---
        const allCourses = [
            { category: "القسم البرمجي", title: "Cyber Security", icon: "fas fa-shield-halved", price: "500,000 ل.س", hours: "30 ساعة تدريبية (15 جلسة)", objectives: ["إجراء اختبارات الاختراق", "فحص الأمان للمواقع والسيرفرات وأجهزة الاندرويد والشبكات اللاسلكية والكاميرات وطرق الاختراق الشائعة لها."], prerequisites: "تعلم الشبكات وفهم آلية عملها بشكل عميق.", info: "يحق للمتدرب التقدم على شهادة معتمدة من البورد الألماني أو الحصول على شهادة حضور من المركز." },
            { category: "القسم البرمجي", title: "برمجة المتحكمات المنطقية PLC", icon: "fas fa-microchip", price: "600,000 ل.س", hours: "30 ساعة تدريبية (15 جلسة)", objectives: ["معرفة المفاهيم الأساسية ومكونات أنظمة PLC.", "التعرف على لغات البرمجة المختلفة المستخدمة في PLCs.", "اكتساب المهارات العملية في برمجة وتشخيص PLCs."], prerequisites: "أساسيات الكهرباء الصناعية.", info: "يحق للمتدرب التقدم على شهادة معتمدة من البورد الألماني أو الحصول على شهادة حضور من المركز." },
            { category: "القسم البرمجي", title: "تكنولوجيا المعلومات IT", icon: "fas fa-network-wired", price: "450,000 ل.س", hours: "30 ساعة تدريبية (15 جلسة)", objectives: ["صيانة سوفت وير للكمبيوترات.", "برمجة الراوترات وحمايتها من الاختراق وأعطالهم الشهيرة."], prerequisites: "لا يتطلب أي معرفة سابقة.", info: "يحق للمتدرب التقدم على شهادة معتمدة من البورد الألماني أو الحصول على شهادة حضور من المركز." },
            { category: "القسم البرمجي", title: "Flutter", icon: "fas fa-mobile-alt", price: "550,000 ل.س", hours: "30 ساعة تدريبية (15 جلسة)", objectives: ["دورة لتعليم أهم أدوات جوجل لتطوير واجهة الموقع والألعاب.", "مقدمة إلى Flutter وأساسياته.", "بناء التطبيقات ونشرها."], prerequisites: "تجربة في البرمجة الكائنية التوجيه (Object Oriented).", info: "يحق للمتدرب التقدم على شهادة معتمدة من البورد الألماني أو الحصول على شهادة حضور من المركز." },
            { category: "القسم البرمجي", title: "C# ASP.NET", icon: "fas fa-laptop-code", price: "650,000 ل.س", hours: "30 ساعة تدريبية (15 جلسة)", objectives: ["إنشاء تطبيقات ويندوز باستخدام لغة Visual C#.", "تطوير واجهات برمجة التطبيقات (API).", "مقدمة إلى التصميم الموجه بالمجال (DDD)."], prerequisites: "خبرة في أداء مهام برمجية أساسية.", info: "يحق للمتدرب التقدم على شهادة معتمدة من البورد الألماني أو الحصول على شهادة حضور من المركز." },
            { category: "القسم البرمجي", title: "SQL Server", icon: "fas fa-database", price: "400,000 ل.س", hours: "20 ساعة تدريبية (10 جلسات)", objectives: ["تحسين مهارات SQL الأساسية.", "التعامل مع Subqueries و queries المعقدة.", "تحسين أداء الاستعلامات باستخدام Indexes."], prerequisites: "معرفة أساسية بـ SQL وفهم قواعد البيانات.", info: "يحق للمتدرب التقدم على شهادة معتمدة من البورد الألماني أو الحصول على شهادة حضور من المركز." },
            { category: "القسم البرمجي", title: "Scratch 3", icon: "fas fa-cat", price: "300,000 ل.س", hours: "30 ساعة تدريبية (15 جلسة)", objectives: ["تعليم الفكر البرمجي للأطفال واليافعين.", "تصميم وبرمجة الألعاب التي تجذبهم."], prerequisites: "الأعمار فوق 10 سنوات.", info: "يحق للمتدرب التقدم على شهادة معتمدة من البورد الألماني أو الحصول على شهادة حضور من المركز." },
            { category: "القسم البرمجي", title: "تحليل الأنظمة", icon: "fas fa-sitemap", price: "450,000 ل.س", hours: "20 ساعة تدريبية (10 جلسات)", objectives: ["التعرف على أنواع أنظمة الحماية الرقمية.", "إجراء اختبارات الأمان للأنظمة المختلفة عن طريق أداة nmap."], prerequisites: "معرفة في الحاسوب وتكنولوجيا المعلومات.", info: "يحق للمتدرب التقدم على شهادة معتمدة من البورد الألماني أو الحصول على شهادة حضور من المركز." },
            { category: "القسم البرمجي", title: "Laravel", icon: "fab fa-laravel", price: "600,000 ل.س", hours: "30 ساعة تدريبية (15 جلسة)", objectives: ["بناء تطبيقات ويب متطورة باستخدام Laravel.", "فهم مفهوم MVC والتوجيه والعروض ووحدات التحكم."], prerequisites: "معرفة مسبقة بـ HTML + CSS، ويستحسن معرفة Bootstrap.", info: "يحق للمتدرب التقدم على شهادة معتمدة من البورد الألماني أو الحصول على شهادة حضور من المركز." },
            { category: "القسم البرمجي", title: "Front-end", icon: "fas fa-palette", price: "700,000 ل.س", hours: "30 ساعة تدريبية (15 جلسة)", objectives: ["تصميم وتنفيذ كافة العناصر المرئية لتطبيقات الويب.", "تعلم HTML, CSS, Bootstrap, JavaScript, jQuery."], prerequisites: "لا متطلبات، لكن فهم أساسي لـ HTML و CSS مفيد.", info: "يحق للمتدرب التقدم على شهادة معتمدة من البورد الألماني أو الحصول على شهادة حضور من المركز." },
            { category: "القسم البرمجي", title: "Back-end", icon: "fas fa-gears", price: "750,000 ل.س", hours: "30 ساعة تدريبية (15 جلسة)", objectives: ["تصميم البنية التحتية للموقع والتعامل مع قواعد البيانات.", "تعلم PHP، OOP، MVC، Laravel."], prerequisites: "يفضل خلفية عن لغة PHP وإدارة قواعد البيانات SQL.", info: "يحق للمتدرب التقدم على شهادة معتمدة من البورد الألماني أو الحصول على شهادة حضور من المركز." },
            { category: "القسم الهندسي", title: "SolidWorks", icon: "fas fa-cube", price: "550,000 ل.س", hours: "24 ساعة تدريبية (12 جلسة)", objectives: ["القدرة على تصميم نماذج ثلاثية الأبعاد دقيقة.", "إتقان أدوات SolidWorks المختلفة للتصميم والتجميع."], prerequisites: "معرفة أساسية بمفاهيم الرسم الهندسي.", info: "يحصل المتدرب على شهادة حضور من المركز وشهادة دولية إن رغب." },
            { category: "القسم الهندسي", title: "3D Printer", icon: "fas fa-print", price: "600,000 ل.س", hours: "24 ساعة تدريبية (12 جلسة)", objectives: ["التعرف على مفهوم وتقنيات الطباعة ثلاثية الأبعاد.", "التدريب على تشغيل الطابعة وضبط الإعدادات."], prerequisites: "معرفة أساسية ببرامج التصميم ثلاثي الأبعاد.", info: "يحصل المتدرب على شهادة حضور من المركز وشهادة دولية إن رغب." },
            { category: "القسم الهندسي", title: "أساليب التنفيذ العملية للهياكل", icon: "fas fa-building-columns", price: "450,000 ل.س", hours: "16 ساعة (12 جلسة)", objectives: ["فهم مكونات الهياكل الإنشائية وأنواعها.", "تعلم تقنيات صب الخرسانة والتحكم في جودتها."], prerequisites: "معرفة أساسية بالهندسة المدنية أو خبرة عملية.", info: "يحصل المتدرب على شهادة حضور من المركز." },
            { category: "القسم الهندسي", title: "أساليب التنفيذ العملية للإكساء", icon: "fas fa-paint-roller", price: "480,000 ل.س", hours: "16 ساعة (12 جلسة)", objectives: ["التعرف على أنواع الإكساء (دهان، بلاط، جبس...).", "تعلم خطوات تحضير الأسطح قبل الإكساء."], prerequisites: "معرفة أساسية بالهندسة المدنية أو خبرة عملية.", info: "يحصل المتدرب على شهادة حضور من المركز." },
            { category: "القسم الهندسي", title: "Etabs + Safe", icon: "fas fa-calculator", price: "700,000 ل.س", hours: "30 ساعة (13 جلسة)", objectives: ["تعلم إنشاء النماذج الإنشائية للمباني في ETABS.", "تصميم قواعد وأساسات المباني باستخدام برنامج SAFE."], prerequisites: "معرفة أساسية بمبادئ الهندسة المدنية والإنشائية.", info: "يحصل المتدرب على شهادة حضور من المركز وشهادة دولية إن رغب." },
            { category: "القسم المهني", title: "تصميم الأزياء", icon: "fas fa-scissors", price: "400,000 ل.س", hours: "24 ساعة (15 جلسة)", objectives: ["رسم المانيكان بالنسب الصحيحة.", "رسم خامات الأقمشة ورسم البورتريه."], prerequisites: "لا متطلبات محددة.", info: "يحصل المتدرب على شهادة حضور من المركز وشهادة دولية إن رغب." },
            { category: "القسم المهني", title: "الريزين - مستوى 1", icon: "fas fa-gem", price: "350,000 ل.س", hours: "10 ساعات (7 جلسات)", objectives: ["التعرف على المواد والمكونات الأساسية لفن الريزين.", "تنفيذ قطع بسيطة مثل الميداليات وقواعد الأكواب."], prerequisites: "لا يشترط وجود خبرة سابقة.", info: "يحصل المتدرب على شهادة حضور من المركز." },
            { category: "القسم المهني", title: "الريزين - مستوى 2", icon: "fas fa-gem", price: "450,000 ل.س", hours: "10 ساعات (7 جلسات)", objectives: ["إتقان تقنيات الطبقات والريزين العميق.", "دمج المواد الطبيعية داخل الريزين."], prerequisites: "إنهاء كورس الريزين المستوى الأول أو خبرة مسبقة.", info: "يحصل المتدرب على شهادة حضور من المركز." },
            { category: "القسم المهني", title: "فن صناعة الشموع", icon: "fas fa-fire", price: "380,000 ل.س", hours: "40 ساعة (20 جلسة)", objectives: ["التعرف على أنواع الشموع والمواد المستخدمة.", "صناعة الشموع والتزيين والتغليف."], prerequisites: "لا يشترط وجود خبرة سابقة.", info: "يحصل المتدرب على شهادة حضور من المركز." },
            { category: "القسم المهني", title: "صناعة المنظفات", icon: "fas fa-soap", price: "320,000 ل.س", hours: "21 ساعة (14 جلسة)", objectives: ["تعلم تركيبات المنظفات المنزلية والشخصية.", "الخلط الآمن للمواد وحفظ المنتج."], prerequisites: "لا يشترط وجود خبرة سابقة.", info: "يحصل المتدرب على شهادة حضور من المركز." },
            { category: "القسم المهني", title: "فن المكرمية", icon: "fas fa-spa", price: "300,000 ل.س", hours: "24 ساعة (15 جلسة)", objectives: ["تعلم أساسيات فن المكرمية والكليم.", "تنفيذ الحقائب وقطع فنية أخرى."], prerequisites: "لا يشترط وجود خبرة سابقة.", info: "يحصل المتدرب على شهادة حضور وشهادة دولية إن رغب." },
            { category: "القسم المهني", title: "سترينغ آرت (String Art)", icon: "fas fa-draw-polygon", price: "280,000 ل.س", hours: "9 ساعات (6 جلسات)", objectives: ["تعلم أساسيات فن الـ String Art.", "تقنيات شد الخيط وتنسيق الألوان."], prerequisites: "لا يشترط وجود خبرة سابقة.", info: "يحصل المتدرب على شهادة حضور من المركز." },
            { category: "القسم المهني", title: "فن السيراميك", icon: "fas fa-shapes", price: "420,000 ل.س", hours: "20 ساعة (10 جلسات)", objectives: ["تصنيع عجينة السيراميك.", "تزيين الأكواب وصنع مجسمات صغيرة."], prerequisites: "لا يشترط وجود خبرة سابقة.", info: "يحصل المتدرب على شهادة حضور من المركز." },
            { category: "القسم المهني", title: "رسم احترافي (رصاص)", icon: "fas fa-pencil-alt", price: "350,000 ل.س", hours: "24 ساعة (16 جلسة)", objectives: ["مدخل لرسم البورتريه.", "أساسيات التظليل والإضاءة."], prerequisites: "لا يوجد.", info: "يحصل المتدرب على شهادة حضور وشهادة دولية إن رغب." },
            { category: "القسم المهني", title: "الرسم الاحترافي (فحم)", icon: "fas fa-pen-nib", price: "380,000 ل.س", hours: "24 ساعة (16 جلسة)", objectives: ["التعرف على أدوات الرسم بالفحم.", "تقنيات توزيع الظلال والنور."], prerequisites: "خبرة جيدة بالرسم أو إتمام كورس الرسم بالرصاص.", info: "يحصل المتدرب على شهادة حضور وشهادة دولية إن رغب." },
            { category: "النادي الصيفي", title: "رسم", icon: "fas fa-palette", price: "200,000 ل.س", hours: "شهرين (3 أيام أسبوعياً)", objectives: ["تعلم أساسيات الرسم.", "رسم الشخصيات والطبيعة الصامتة."], prerequisites: "لا يوجد.", info: "نادي صيفي ممتع للأطفال." },
            { category: "النادي الصيفي", title: "شطرنج", icon: "fas fa-chess", price: "180,000 ل.س", hours: "شهرين (3 أيام أسبوعياً)", objectives: ["تعريف بأسماء القطع وقوانين الشطرنج.", "أشهر الخطط للهجوم والدفاع."], prerequisites: "لا يوجد.", info: "نادي صيفي لتنمية المهارات الذهنية." },
            { category: "النادي الصيفي", title: "المخترع الصغير", icon: "fas fa-lightbulb", price: "250,000 ل.س", hours: "شهرين (3 أيام أسبوعياً)", objectives: ["ربط الرغبة بالتعلم بشعور السعادة.", "زيادة القدرة العقلية للطفل من خلال التفكير الإبداعي."], prerequisites: "لا يوجد.", info: "نادي صيفي للابتكار والاكتشاف." },
            { category: "القسم التقني", title: "التصميم الإعلاني Graphic Design", icon: "fas fa-vector-square", price: "600,000 ل.س", hours: "30 ساعة (15 جلسة)", objectives: ["استخدام برامج Photoshop / Illustrator / After effects.", "تصميم الشعارات وإعلانات السوشيال ميديا."], prerequisites: "معرفة باستخدام الكمبيوتر.", info: "شهادة معتمدة من البورد الألماني متاحة." },
            { category: "القسم التقني", title: "المونتاج باستخدام Adobe Premiere Pro", icon: "fas fa-film", price: "550,000 ل.س", hours: "24 ساعة (12 جلسة)", objectives: ["التحكم الكامل بواجهة برنامج Premiere Pro.", "تحرير وتحسين الصوت باحترافية."], prerequisites: "رغبة في التعلم.", info: "شهادة معتمدة من البورد الألماني متاحة." },
            { category: "القسم التقني", title: "الرخصة الدولية لقيادة الحاسب ICDL", icon: "fas fa-id-card-alt", price: "300,000 ل.س", hours: "24 ساعة (12 جلسة)", objectives: ["استخدام اللابتوب بالطريقة الصحيحة.", "البرامج المكتبية Word - Excel – Power point - access."], prerequisites: "لا يتطلب معرفة سابقة.", info: "شهادة معتمدة من البورد الألماني متاحة." },
            { category: "القسم التقني", title: "Motion Graphic", icon: "fas fa-person-running", price: "650,000 ل.س", hours: "40 ساعة (20 جلسة)", objectives: ["تعلم رسم وتحريك الشخصيات الكرتونية.", "إنشاء إعلانات بطريقة كرتونية باستخدام After Effects."], prerequisites: "معرفة في Photoshop و Illustrator.", info: "شهادة معتمدة من البورد الألماني متاحة." },
            { category: "قسم التنمية البشرية", title: "إدارة الحالة (GBV – CP – PSS)", icon: "fas fa-hand-holding-heart", price: "500,000 ل.س", hours: "30 ساعة (15 جلسة)", objectives: ["فهم مفاهيم العنف القائم على النوع الاجتماعي.", "تصميم وتنفيذ خطط الحماية والوقاية."], prerequisites: "معرفة مبدئية في مفاهيم التنمية البشرية.", info: "شهادة حضور من المركز وشهادة دولية إن رغب." },
            { category: "قسم التنمية البشرية", title: "TOT (Training of Trainers)", icon: "fas fa-chalkboard-user", price: "750,000 ل.س", hours: "50 ساعة (25 جلسة)", objectives: ["فهم أسس وعمليات التدريب وأنماط التعلم.", "تطوير مهارات التخطيط وتصميم البرامج التدريبية."], prerequisites: "لا تتطلب معرفة سابقة.", info: "شهادة حضور من المركز وشهادة دولية إن رغب." },
            { category: "قسم الإدارة والقيادة", title: "العلاقات العامة", icon: "fas fa-bullhorn", price: "400,000 ل.с", hours: "15 ساعة (10 جلسات)", objectives: ["فهم استراتيجيات بناء السمعة والصورة الإيجابية.", "إدارة الأزمات إعلاميًا وتواصليًا."], prerequisites: "خلفية أساسية في مهارات التواصل.", info: "شهادة حضور من المركز." },
            { category: "قسم الإدارة والقيادة", title: "Social Media Marketing", icon: "fas fa-share-nodes", price: "500,000 ل.س", hours: "24 ساعة (15 جلسة)", objectives: ["لمحة عن منصات التواصل الاجتماعي وخوارزمياتها.", "إعداد خطة المحتوى والكتابة الإبداعية."], prerequisites: "خلفية بسيطة في استخدام الإنترنت.", info: "شهادة حضور من المركز وشهادة دولية إن رغب." },
            { category: "قسم اللغات", title: "لغة انكليزية - مستويات", icon: "fas fa-language", price: "250,000 ل.س / مستوى", hours: "39 ساعة لكل مستوى (26 جلسة)", objectives: ["تعلم اللغة الإنجليزية من المبتدئ إلى المتقدم باستخدام كتاب New English File."], prerequisites: "يعتمد على المستوى (اختبار تحديد مستوى).", info: "شهادة حضور من المركز وشهادة دولية إن رغب." },
            { category: "قسم اللغات", title: "اللغة التركية - مستويات", icon: "fas fa-language", price: "280,000 ل.س / مستوى", hours: "40 ساعة لكل مستوى (20 جلسة)", objectives: ["تعلم اللغة التركية من A1 إلى C2 باستخدام كتاب Yeni İstanbul."], prerequisites: "يعتمد على المستوى (اختبار تحديد مستوى).", info: "شهادة حضور من المركز وشهادة دولية إن رغب." },
            { category: "قسم اللغات", title: "اللغة الفرنسية - مستويات", icon: "fas fa-language", price: "270,000 ل.س / مستوى", hours: "22 ساعة لكل مستوى (15 جلسة)", objectives: ["تعلم اللغة الفرنسية من A1 إلى B2 باستخدام كتاب Alter Ego."], prerequisites: "يعتمد على المستوى (اختبار تحديد مستوى).", info: "شهادة حضور من المركز وشهادة دولية إن رغب." },
            { category: "قسم اللغات", title: "اللغة الألمانية - مستويات", icon: "fas fa-language", price: "290,000 ل.س / مستوى", hours: "26 ساعة لكل مستوى (17 جلسة)", objectives: ["تعلم اللغة الألمانية A1 و A2 باستخدام كتاب Studio d."], prerequisites: "يعتمد على المستوى (اختبار تحديد مستوى).", info: "شهادة حضور من المركز." }
        ];
        
        const monthlyCoursesData = {
            current: [
                { title: "Front-end", category: "القسم البرمجي", description: "دورة شاملة لتصميم وتنفيذ واجهات الويب المرئية والتفاعلية.", image: "https://placehold.co/600x400/10b981/ffffff?text=Front-end" },
                { title: "Etabs + Safe", category: "القسم الهندسي", description: "إتقان برامج التحليل والتصميم الإنشائي للمباني والأساسات.", image: "https://placehold.co/600x400/f59e0b/ffffff?text=Etabs+%2B+Safe" },
                { title: "Social Media Marketing", category: "قسم الإدارة والقيادة", description: "تعلم استراتيجيات التسويق الرقمي وإدارة الحملات الإعلانية.", image: "https://placehold.co/600x400/3b82f6/ffffff?text=Social+Media" },
            ],
            next: [
                { title: "Cyber Security", category: "القسم البرمجي", description: "اكتساب مهارات اختبار الاختراق وحماية الأنظمة والشبكات.", image: "https://placehold.co/600x400/ef4444/ffffff?text=Cyber+Security" },
                { title: "TOT (Training of Trainers)", category: "قسم التنمية البشرية", description: "تأهيل مدربين محترفين لتصميم وتقديم برامج تدريبية فعالة.", image: "https://placehold.co/600x400/8b5cf6/ffffff?text=TOT" },
                { title: "Motion Graphic", category: "القسم التقني", description: "تعلم فن تحريك الرسومات لإنشاء فيديوهات إعلانية جذابة.", image: "https://placehold.co/600x400/ec4899/ffffff?text=Motion+Graphic" },
            ]
        };

        const categoryIcons = {
            "القسم البرمجي": "fas fa-code",
            "القسم الهندسي": "fas fa-cogs",
            "القسم المهني": "fas fa-paint-brush",
            "النادي الصيفي": "fas fa-sun",
            "القسم التقني": "fas fa-desktop",
            "قسم التنمية البشرية": "fas fa-users",
            "قسم الإدارة والقيادة": "fas fa-briefcase",
            "قسم اللغات": "fas fa-language"
        };
        
        const offersData = [
            {
                title: "عرض الصديق",
                icon: "fas fa-user-friends",
                description: "سجل أنت وصديقك في أي دورة واحصلوا على خصم 15% لكل منكما!",
                details: "العرض صالح عند تسجيل شخصين أو أكثر معاً في نفس الدورة ونفس التوقيت. الخصم يطبق على السعر الأساسي للدورة. لا يمكن دمج هذا العرض مع عروض أخرى."
            },
            {
                title: "عرض الصيف",
                icon: "fas fa-sun",
                description: "سجل في دورتين خلال فترة الصيف واحصل على الدورة الثالثة مجاناً!",
                details: "العرض ساري على جميع الدورات التي تبدأ بين شهري حزيران وآب. الدورة المجانية يجب أن تكون بنفس سعر أو أقل من الدورتين المدفوعتين. يجب دفع رسوم الدورتين بالكامل للاستفادة من العرض."
            },
            {
                title: "عرض الطالب",
                icon: "fas fa-graduation-cap",
                description: "خصم 20% لجميع الطلاب الجامعيين على كافة الدورات التقنية والهندسية.",
                details: "للاستفادة من العرض، يرجى إبراز البطاقة الجامعية سارية المفعول عند التسجيل. الخصم يطبق على دورات القسم التقني والهندسي فقط."
            }
        ];

        // NEW: Data for Entertainment Section
        const entertainmentData = [
             { type: 'quiz', title: "اختبار تحليل الشخصية", icon: "fas fa-brain", description: "اكتشف جوانب شخصيتك الخفية ونقاط قوتك.", action: "soon" },
             { type: 'quiz', title: "ما هو أسلوب تعلمك؟", icon: "fas fa-lightbulb", description: "اعرف الطريقة المثلى التي تتعلم بها.", action: "soon" },
             { type: "quiz", title: "اختبار الذكاء العاطفي", icon: "fas fa-heart-pulse", description: "قيّم قدرتك على فهم وإدارة مشاعرك.", action: "soon" },
             { type: "game", title: "لعبة الذاكرة", icon: "fas fa-gamepad", description: "تحدى ذاكرتك وطابق البطاقات المتشابهة.", action: "soon" },
        ];


        // --- LOGIC ---
        document.addEventListener('DOMContentLoaded', function () {
            // --- DOM ELEMENTS ---
            const tabsContainer = document.getElementById('tabs');
            const coursesGrid = document.getElementById('courses-grid');
            const mainViewNav = document.getElementById('main-view-nav');
            const allCoursesView = document.getElementById('view-all-courses');
            const monthlyCoursesView = document.getElementById('view-monthly-courses');
            const offersView = document.getElementById('view-offers'); 
            const entertainmentView = document.getElementById('view-entertainment'); // NEW
            const offersGrid = document.getElementById('offers-grid'); 
            const entertainmentGrid = document.getElementById('entertainment-grid'); // NEW
            const currentMonthContainer = document.getElementById('current-month-courses');
            const nextMonthContainer = document.getElementById('next-month-courses');
            const courseDetailsModal = document.getElementById('course-details-modal');
            const offerDetailsModal = document.getElementById('offer-details-modal'); 
            const entertainmentModal = document.getElementById('entertainment-modal'); // NEW
            const courseModalBody = document.getElementById('course-modal-body');
            const offerModalBody = document.getElementById('offer-modal-body'); 
            const entertainmentModalIcon = document.getElementById('entertainment-modal-icon'); // NEW
            const entertainmentModalTitle = document.getElementById('entertainment-modal-title'); // NEW
            const tiktokModal = document.getElementById('tiktok-modal');
            const themeToggle = document.getElementById('theme-toggle');
            const themeIcon = document.getElementById('theme-icon');

            // --- SLIDER ELEMENTS ---
            const sliderImages = document.querySelectorAll('.slider-image');
            const prevSlideBtn = document.getElementById('prev-slide');
            const nextSlideBtn = document.getElementById('next-slide');
            const dotsContainer = document.getElementById('slider-dots');
            const sliderDots = [];

            const categories = [...new Set(allCourses.map(course => course.category))];
            
            const renderCourses = (category) => {
                coursesGrid.innerHTML = '';
                const filteredCourses = allCourses.filter(course => course.category === category);
                filteredCourses.forEach((course, index) => {
                    const card = document.createElement('div');
                    card.className = 'course-card-small flex flex-col justify-center items-center';
                    card.dataset.title = course.title;
                    card.style.animationDelay = `${index * 50}ms`;
                    const iconClass = course.icon || 'fas fa-chalkboard-teacher'; // Fallback icon
                    card.innerHTML = `
                        <div class="w-12 h-12 mb-4 bg-blue-100 rounded-full flex items-center justify-center">
                            <i class="${iconClass} text-2xl text-blue-500"></i>
                        </div>
                        <h3 class="text-md font-bold text-gray-800 leading-tight">${course.title}</h3>
                    `;
                    coursesGrid.appendChild(card);
                });
            };

            const showCourseDetailsModal = (course) => {
                if (!course) return;
                const prefilledMessage = `مرحباً، أود الاستفسار أو التسجيل في دورة: *${course.title}*.`;
                const whatsappURL = `https://wa.me/+963991015651?text=${encodeURIComponent(prefilledMessage)}`;
                const objectivesList = course.objectives.map(obj => `<li class="flex items-start"><span class="text-blue-500 mt-1 mr-2 ml-2">&#10004;</span><span>${obj}</span></li>`).join('');
                courseModalBody.innerHTML = `
                    <h3 class="text-2xl md:text-3xl font-extrabold text-gray-900 mb-6 pb-3 border-b-2 border-gray-200">${course.title}</h3>
                    <div class="space-y-4 md:space-y-6 text-gray-700">
                        <div class="border-r-4 border-blue-500 pr-4"><h4 class="font-bold text-lg md:text-xl mb-2">أهداف التدريب:</h4><ul class="space-y-2 pr-4 list-none">${objectivesList}</ul></div>
                        <div class="border-r-4 border-green-500 pr-4"><h4 class="font-bold text-lg md:text-xl mb-2">المتطلبات الأساسية:</h4><p class="pr-4">${course.prerequisites}</p></div>
                        <div class="border-r-4 border-yellow-500 pr-4"><h4 class="font-bold text-lg md:text-xl mb-2">مدة الدورة:</h4><p class="pr-4">${course.hours}</p></div>
                        <div class="border-r-4 border-red-500 pr-4"><h4 class="font-bold text-lg md:text-xl mb-2">معلومات إضافية:</h4><p class="pr-4">${course.info}</p></div>
                        <div class="p-4 md:p-6 mt-6 bg-gray-50 rounded-xl text-center">
                            <p class="text-md md:text-lg font-semibold text-gray-700 mb-2">تكلفة الاستثمار في مستقبلك هي:</p>
                            <p class="text-3xl md:text-4xl font-extrabold text-blue-600 mb-5">${course.price}</p>
                            <div class="mt-6 flex justify-center">
                                <a href="${whatsappURL}" target="_blank" class="inline-flex items-center justify-center gap-3 px-6 py-3 sm:px-8 sm:py-4 bg-green-500 text-white font-bold text-base sm:text-lg rounded-full shadow-lg hover:bg-green-600 transform hover:scale-105 transition-all duration-300 ease-in-out">
                                    <i class="fab fa-whatsapp text-xl sm:text-2xl"></i><span>سجل الآن عبر واتساب</span>
                                </a>
                            </div>
                        </div>
                    </div>`;
                courseDetailsModal.style.display = 'flex';
            };

            const renderMonthlyCourses = (container, courses) => {
                container.innerHTML = '';
                courses.forEach(course => {
                    const card = document.createElement('div');
                    card.className = 'monthly-course-card md:flex items-center gap-6 p-4';
                    card.innerHTML = `
                        <div class="md:w-1/3 h-48 md:h-auto self-stretch"><img src="${course.image}" alt="${course.title}" class="w-full h-full object-cover rounded-lg" onerror="this.onerror=null;this.src='https://placehold.co/600x400/cccccc/ffffff?text=Image+Not+Found';"></div>
                        <div class="md:w-2/3 pt-4 md:pt-0">
                           <span class="inline-block bg-blue-100 text-blue-800 text-sm font-semibold mb-2 px-3 py-1 rounded-full">${course.category}</span>
                           <h3 class="text-xl sm:text-2xl font-bold text-gray-900 mb-2">${course.title}</h3>
                           <p class="text-gray-600 mb-4">${course.description}</p>
                           <button data-title="${course.title}" class="details-button bg-blue-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-blue-700 transition-colors">تفاصيل أكثر</button>
                        </div>`;
                    container.appendChild(card);
                });
            };
            
            const renderOffers = () => {
                offersGrid.innerHTML = '';
                offersData.forEach((offer, index) => {
                    const card = document.createElement('div');
                    card.className = 'offer-card';
                    card.dataset.index = index; 
                    card.innerHTML = `
                        <i class="${offer.icon} offer-icon"></i>
                        <h3 class="text-xl sm:text-2xl font-extrabold mb-3 relative z-10">${offer.title}</h3>
                        <p class="text-base sm:text-lg font-medium relative z-10">${offer.description}</p>
                        <p class="text-sm mt-4 font-bold relative z-10 opacity-80">انقر لمعرفة التفاصيل</p>
                    `;
                    offersGrid.appendChild(card);
                });
            };

            // NEW: Function to render entertainment items
            const renderEntertainment = () => {
                entertainmentGrid.innerHTML = '';
                entertainmentData.forEach((item, index) => {
                    const card = document.createElement('div');
                    card.className = 'course-card-small flex flex-col justify-between items-center h-full'; // Use h-full for consistent height
                    card.style.animationDelay = `${index * 50}ms`;
                    card.dataset.title = item.title;
                    card.dataset.icon = item.icon;
                    card.innerHTML = `
                        <div>
                           <div class="w-12 h-12 mb-4 bg-purple-100 rounded-full flex items-center justify-center">
                               <i class="${item.icon} text-2xl text-purple-500"></i>
                           </div>
                           <h3 class="text-md font-bold text-gray-800 leading-tight">${item.title}</h3>
                           <p class="text-sm text-gray-500 dark:text-gray-400 mt-2">${item.description}</p>
                        </div>
                    `;
                    entertainmentGrid.appendChild(card);
                });
            };
            
            const showOfferDetailsModal = (offer) => {
                if (!offer) return;
                const prefilledMessage = `مرحباً، أود الاستفسار عن: *${offer.title}*.`;
                const whatsappURL = `https://wa.me/+963991015651?text=${encodeURIComponent(prefilledMessage)}`;
                
                offerModalBody.innerHTML = `
                    <div class="text-center">
                        <i class="${offer.icon} text-5xl sm:text-6xl text-purple-500 mb-4"></i>
                        <h3 class="text-2xl sm:text-3xl font-extrabold text-gray-900 mb-4">${offer.title}</h3>
                        <p class="text-lg sm:text-xl text-gray-700 mb-6">${offer.description}</p>
                    </div>
                    <div class="p-4 sm:p-6 bg-purple-50 rounded-lg border-r-4 border-purple-500">
                        <h4 class="font-bold text-lg sm:text-xl text-purple-800 mb-2">شروط وأحكام العرض:</h4>
                        <p class="text-gray-700 pr-2">${offer.details}</p>
                    </div>
                    <div class="mt-8 flex justify-center">
                        <a href="${whatsappURL}" target="_blank" class="inline-flex items-center justify-center gap-3 px-6 py-3 sm:px-8 sm:py-4 bg-green-500 text-white font-bold text-base sm:text-lg rounded-full shadow-lg hover:bg-green-600 transform hover:scale-105 transition-all duration-300 ease-in-out">
                            <i class="fab fa-whatsapp text-xl sm:text-2xl"></i><span>استفد من العرض الآن</span>
                        </a>
                    </div>
                `;
                offerDetailsModal.style.display = 'flex';
            };
            
            // NEW: Function to show entertainment modal
            const showEntertainmentModal = (title, icon) => {
                entertainmentModalIcon.className = `${icon} text-5xl sm:text-6xl text-purple-500 mb-4`;
                entertainmentModalTitle.textContent = title;
                entertainmentModal.style.display = 'flex';
            };

            // --- Theme Toggle Logic ---
            const applyTheme = (theme) => {
                if (theme === 'dark') {
                    document.body.classList.add('dark');
                    themeIcon.classList.remove('fa-moon');
                    themeIcon.classList.add('fa-sun');
                } else {
                    document.body.classList.remove('dark');
                    themeIcon.classList.remove('fa-sun');
                    themeIcon.classList.add('fa-moon');
                }
            };
            
            themeToggle.addEventListener('click', () => {
                const isDark = document.body.classList.contains('dark');
                const newTheme = isDark ? 'light' : 'dark';
                applyTheme(newTheme);
                localStorage.setItem('theme', newTheme);
            });


            // --- EVENT LISTENERS ---
            coursesGrid.addEventListener('click', (e) => {
                const card = e.target.closest('.course-card-small');
                if (card) {
                    const courseTitle = card.dataset.title;
                    const course = allCourses.find(c => c.title === courseTitle);
                    showCourseDetailsModal(course);
                }
            });

            monthlyCoursesView.addEventListener('click', e => {
                if (e.target.classList.contains('details-button')) {
                    const courseTitle = e.target.dataset.title;
                    const course = allCourses.find(c => c.title === courseTitle);
                    showCourseDetailsModal(course);
                }
            });
            
            offersGrid.addEventListener('click', (e) => {
                const card = e.target.closest('.offer-card');
                if (card) {
                    const offerIndex = card.dataset.index;
                    const offer = offersData[offerIndex];
                    showOfferDetailsModal(offer);
                }
            });
            
            // NEW: Listener for entertainment grid
            entertainmentGrid.addEventListener('click', (e) => {
                const card = e.target.closest('.course-card-small');
                 if (card) {
                    const title = card.dataset.title;
                    const icon = card.dataset.icon;
                    showEntertainmentModal(title, icon);
                }
            });

            tabsContainer.addEventListener('click', (e) => {
                const button = e.target.closest('.tab-button');
                if (button) {
                    document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');
                    renderCourses(button.dataset.category);
                }
            });

            mainViewNav.addEventListener('click', (e) => {
                const button = e.target.closest('.main-view-button');
                if (button) {
                    const view = button.dataset.view;
                    document.querySelectorAll('#main-view-nav button').forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');
                    
                    allCoursesView.classList.toggle('hidden', view !== 'all-courses');
                    monthlyCoursesView.classList.toggle('hidden', view !== 'monthly-courses');
                    offersView.classList.toggle('hidden', view !== 'offers');
                    entertainmentView.classList.toggle('hidden', view !== 'entertainment'); // NEW
                }
            });

            // Generic modal close logic
            document.querySelectorAll('.modal').forEach(modal => {
                const closeButton = modal.querySelector('.modal-close-button');
                if (closeButton) {
                    closeButton.onclick = () => { modal.style.display = "none"; };
                }
                modal.addEventListener('click', (event) => {
                    if (event.target === modal) modal.style.display = "none";
                });
            });

            document.getElementById('tiktok-link').onclick = (e) => { e.preventDefault(); tiktokModal.style.display = 'flex'; };

            // --- INITIALIZATION ---
            function initializePage() {
                // Apply saved theme on load
                const savedTheme = localStorage.getItem('theme') || 'light';
                applyTheme(savedTheme);

                categories.forEach((category, index) => {
                    const button = document.createElement('button');
                    const iconClass = categoryIcons[category] || 'fas fa-star';
                    button.className = 'tab-button py-2 px-3 sm:px-4 rounded-full font-semibold flex items-center gap-2 text-sm sm:text-base';
                    button.innerHTML = `<i class="${iconClass}"></i><span>${category}</span>`;
                    button.dataset.category = category;
                    if (index === 0) button.classList.add('active');
                    tabsContainer.appendChild(button);
                });

                renderCourses(categories[0]);
                renderMonthlyCourses(currentMonthContainer, monthlyCoursesData.current);
                renderMonthlyCourses(nextMonthContainer, monthlyCoursesData.next);
                renderOffers();
                renderEntertainment(); // NEW
            }
            
            initializePage();
            
            // --- SLIDER LOGIC ---
            let currentSlide = 0;
            let slideInterval;
            const totalSlides = sliderImages.length;

            if (totalSlides > 0) {
                // Create dots
                for (let i = 0; i < totalSlides; i++) {
                    const dot = document.createElement('div');
                    dot.classList.add('slider-dot');
                    dot.dataset.index = i;
                    dotsContainer.appendChild(dot);
                    sliderDots.push(dot);
                }
                
                const updateSlider = (newIndex) => {
                    // Update current slide index
                    currentSlide = newIndex;
                    
                    // Move images
                    sliderImages.forEach((img, i) => {
                        img.style.transform = `translateX(${(i - currentSlide) * 100}%)`;
                    });

                    // Update dots
                    sliderDots.forEach(dot => dot.classList.remove('active'));
                    sliderDots[currentSlide].classList.add('active');

                };

                const nextSlide = () => updateSlider((currentSlide + 1) % totalSlides);
                const prevSlide = () => updateSlider((currentSlide - 1 + totalSlides) % totalSlides);
                
                const resetInterval = () => {
                    clearInterval(slideInterval);
                    slideInterval = setInterval(nextSlide, 3000);
                };

                // REVERSED: Right arrow (prev-slide ID) goes to PREVIOUS slide
                prevSlideBtn.addEventListener('click', () => { prevSlide(); resetInterval(); });
                // REVERSED: Left arrow (next-slide ID) goes to NEXT slide
                nextSlideBtn.addEventListener('click', () => { nextSlide(); resetInterval(); });
                
                dotsContainer.addEventListener('click', (e) => {
                    if (e.target.classList.contains('slider-dot')) {
                        updateSlider(parseInt(e.target.dataset.index));
                        resetInterval();
                    }
                });
                
                updateSlider(0); // Set initial position
                resetInterval();
            }
        });
    </script>
</body>
</html>
